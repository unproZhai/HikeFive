{"ast":null,"code":"import _classCallCheck from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/xinshuangzhai/Desktop/HikeFive/client/src/components/post/main-posts/Sub-Components/CommentItem.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { deleteComment } from '../../../../actions/postActions';\nimport defaultAvatar from '../../../../img/defaultAvatar.jpg';\n\nvar CommentItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CommentItem, _Component);\n\n  function CommentItem() {\n    _classCallCheck(this, CommentItem);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CommentItem).apply(this, arguments));\n  }\n\n  _createClass(CommentItem, [{\n    key: \"onDeleteClick\",\n    value: function onDeleteClick(postId, commentId) {\n      this.props.deleteComment(postId, commentId);\n      window.location.reload();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          comment = _this$props.comment,\n          postId = _this$props.postId,\n          auth = _this$props.auth;\n\n      var moment = require('moment');\n\n      var formatted_date = moment(comment.date).format('LLL');\n      var commentAvatar;\n\n      if (comment.avatar === '') {\n        commentAvatar = defaultAvatar;\n      } else {\n        commentAvatar = comment.avatar;\n      }\n\n      return React.createElement(\"div\", {\n        className: \"card card-body border-light mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          width: '50px'\n        },\n        className: \"rounded-circle d-none d-md-block center\",\n        src: commentAvatar,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"d-flex justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, comment.name)), React.createElement(\"div\", {\n        className: \"col-md-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, comment.text), comment.user === auth.user.id ? React.createElement(\"button\", {\n        onClick: this.onDeleteClick.bind(this, postId, comment._id),\n        type: \"button\",\n        className: \"btn btn-sm btn-danger mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Delete\") : null), React.createElement(\"div\", {\n        className: \"blockquote-footer bottomcorner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, formatted_date)));\n    }\n  }]);\n\n  return CommentItem;\n}(Component);\n\nCommentItem.propTypes = {\n  deleteComment: PropTypes.func.isRequired,\n  comment: PropTypes.object.isRequired,\n  postId: PropTypes.string.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, {\n  deleteComment: deleteComment\n})(CommentItem);","map":{"version":3,"sources":["/Users/xinshuangzhai/Desktop/HikeFive/client/src/components/post/main-posts/Sub-Components/CommentItem.js"],"names":["React","Component","connect","PropTypes","deleteComment","defaultAvatar","CommentItem","postId","commentId","props","window","location","reload","comment","auth","moment","require","formatted_date","date","format","commentAvatar","avatar","width","name","text","user","id","onDeleteClick","bind","_id","propTypes","func","isRequired","object","string","mapStateToProps","state"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,OAAOC,aAAP,MAA0B,mCAA1B;;IAEMC,W;;;;;;;;;;;;;kCACUC,M,EAAQC,S,EAAW;AAC/B,WAAKC,KAAL,CAAWL,aAAX,CAAyBG,MAAzB,EAAiCC,SAAjC;AACAE,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;;;6BAEQ;AAAA,wBAC2B,KAAKH,KADhC;AAAA,UACCI,OADD,eACCA,OADD;AAAA,UACUN,MADV,eACUA,MADV;AAAA,UACkBO,IADlB,eACkBA,IADlB;;AAEP,UAAIC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACA,UAAIC,cAAc,GAAGF,MAAM,CAACF,OAAO,CAACK,IAAT,CAAN,CAAqBC,MAArB,CAA4B,KAA5B,CAArB;AACA,UAAIC,aAAJ;;AAEA,UAAGP,OAAO,CAACQ,MAAR,KAAmB,EAAtB,EAAyB;AACvBD,QAAAA,aAAa,GAAGf,aAAhB;AACD,OAFD,MAEM;AACJe,QAAAA,aAAa,GAAGP,OAAO,CAACQ,MAAxB;AACD;;AACD,aACE;AAAK,QAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SADT;AAEE,QAAA,SAAS,EAAC,yCAFZ;AAGE,QAAA,GAAG,EAAEF,aAHP;AAIE,QAAA,GAAG,EAAC,EAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAOE;AAAG,QAAA,SAAS,EAAC,+BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8CP,OAAO,CAACU,IAAtD,CAPF,CADF,EAUE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqBV,OAAO,CAACW,IAA7B,CADF,EAEGX,OAAO,CAACY,IAAR,KAAiBX,IAAI,CAACW,IAAL,CAAUC,EAA3B,GACC;AACE,QAAA,OAAO,EAAE,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,EAA8BrB,MAA9B,EAAsCM,OAAO,CAACgB,GAA9C,CADX;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,SAAS,EAAC,4BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,GAQG,IAVN,CAVF,EAsBE;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkDZ,cAAlD,CAtBF,CADF,CADF;AA4BD;;;;EA7CuBhB,S;;AAgD1BK,WAAW,CAACwB,SAAZ,GAAwB;AACtB1B,EAAAA,aAAa,EAAED,SAAS,CAAC4B,IAAV,CAAeC,UADR;AAEtBnB,EAAAA,OAAO,EAAEV,SAAS,CAAC8B,MAAV,CAAiBD,UAFJ;AAGtBzB,EAAAA,MAAM,EAAEJ,SAAS,CAAC+B,MAAV,CAAiBF,UAHH;AAItBlB,EAAAA,IAAI,EAAEX,SAAS,CAAC8B,MAAV,CAAiBD;AAJD,CAAxB;;AAOA,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCtB,IAAAA,IAAI,EAAEsB,KAAK,CAACtB;AADoB,GAAL;AAAA,CAA7B;;AAIA,eAAeZ,OAAO,CAACiC,eAAD,EAAkB;AAAE/B,EAAAA,aAAa,EAAbA;AAAF,CAAlB,CAAP,CAA4CE,WAA5C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { deleteComment } from '../../../../actions/postActions';\nimport defaultAvatar from '../../../../img/defaultAvatar.jpg';\n\nclass CommentItem extends Component {\n  onDeleteClick(postId, commentId) {\n    this.props.deleteComment(postId, commentId);\n    window.location.reload();\n  }\n\n  render() {\n    const { comment, postId, auth } = this.props;\n    var moment = require('moment');\n    var formatted_date = moment(comment.date).format('LLL');\n    var commentAvatar;\n\n    if(comment.avatar === ''){\n      commentAvatar = defaultAvatar;\n    }else {\n      commentAvatar = comment.avatar;\n    }\n    return (\n      <div className=\"card card-body border-light mb-3\">\n        <div className=\"row\">\n          <div className=\"col-md-2\">\n              <img\n                style={{ width: '50px' }}\n                className=\"rounded-circle d-none d-md-block center\"\n                src={commentAvatar}\n                alt=\"\"\n              />\n            <p className=\"d-flex justify-content-center\">{comment.name}</p>\n          </div>\n          <div className=\"col-md-10\">\n            <p className=\"lead\">{comment.text}</p>\n            {comment.user === auth.user.id ? (\n              <button\n                onClick={this.onDeleteClick.bind(this, postId, comment._id)}\n                type=\"button\"\n                className=\"btn btn-sm btn-danger mr-1\"\n              >\n                Delete\n              </button>\n            ) : null}\n          </div>\n          <div className=\"blockquote-footer bottomcorner\" >{formatted_date}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nCommentItem.propTypes = {\n  deleteComment: PropTypes.func.isRequired,\n  comment: PropTypes.object.isRequired,\n  postId: PropTypes.string.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, { deleteComment })(CommentItem);\n"]},"metadata":{},"sourceType":"module"}