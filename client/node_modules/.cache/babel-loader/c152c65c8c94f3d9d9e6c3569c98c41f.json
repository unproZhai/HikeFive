{"ast":null,"code":"import _classCallCheck from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/xinshuangzhai/Desktop/HikeFive/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/xinshuangzhai/Desktop/HikeFive/client/src/components/matchmaking/Matches.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Spinner from '../common/Spinner';\nimport ProfileItem from '../profiles/ProfileItem';\nimport GroupItem from '../groups/GroupItem';\nimport { getCurrentProfile } from '../../actions/profileActions';\nimport { matchGCombo, matchGTC, matchGTCL, matchGT, matchGCC, matchGC, matchGCL, matchGroups } from '../../actions/groupActions';\nimport { matchPCombo, matchPTC, matchPTCL, matchPT, matchPCC, matchPC, matchPCL, matchProfiles } from '../../actions/profileActions';\nimport isEmpty from '../../validation/is-empty';\n\nvar Matches =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Matches, _Component);\n\n  function Matches(props) {\n    var _this;\n\n    _classCallCheck(this, Matches);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Matches).call(this, props));\n    _this.state = {};\n    _this.getMatches = _this.getMatches.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Matches, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getCurrentProfile();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors\n        });\n      }\n\n      if (nextProps.profile.profile) {\n        var profile = nextProps.profile.profile;\n\n        if (profile.match) {\n          profile.match.country = !isEmpty(profile.match.country) ? profile.match.country : '';\n          profile.match.skillMin = !isEmpty(profile.match.skillMin) ? profile.match.skillMin : '';\n          profile.match.skillMax = !isEmpty(profile.match.skillMax) ? profile.match.skillMax : '';\n          profile.match.travel = !isEmpty(profile.match.travel) ? profile.match.travel : '';\n          profile.match.camp = !isEmpty(profile.match.camp) ? profile.match.camp : '';\n          profile.match.climber = !isEmpty(profile.match.climber) ? profile.match.climber : '';\n          this.setState({\n            country: profile.match.country,\n            skillMin: profile.match.skillMin,\n            skillMax: profile.match.skillMax,\n            travel: profile.match.travel,\n            camp: profile.match.camp,\n            climber: profile.match.climber\n          });\n        }\n      }\n    }\n  }, {\n    key: \"getMatches\",\n    value: function getMatches() {\n      if (this.state.travel) {\n        if (this.state.travel === 'Yes') {\n          if (this.state.camp === 'Yes') {\n            if (this.state.climber === 'Yes') {\n              this.props.matchGCombo(this.state, this.props.profile.profile.user._id);\n              this.props.matchPCombo(this.state, this.props.profile.profile.handle);\n            } else {\n              this.props.matchGTC(this.state, this.props.profile.profile.user._id);\n              this.props.matchPTC(this.state, this.props.profile.profile.handle);\n            }\n          } else if (this.state.climber === 'Yes') {\n            this.props.matchGTCL(this.state, this.props.profile.profile.user._id);\n            this.props.matchPTCL(this.state, this.props.profile.profile.handle);\n          } else {\n            this.props.matchGT(this.state, this.props.profile.profile.user._id);\n            this.props.matchPT(this.state, this.props.profile.profile.handle);\n          }\n        } else {\n          if (this.state.camp === 'Yes') {\n            if (this.state.climber === 'Yes') {\n              this.props.matchGCC(this.state, this.props.profile.profile.user._id);\n              this.props.matchPCC(this.state, this.props.profile.profile.handle);\n            } else {\n              this.props.matchGC(this.state, this.props.profile.profile.user._id);\n              this.props.matchPC(this.state, this.props.profile.profile.handle);\n            }\n          } else if (this.state.climber === 'Yes') {\n            this.props.matchGCL(this.state, this.props.profile.profile.user._id);\n            this.props.matchPCL(this.state, this.props.profile.profile.handle);\n          } else {\n            this.props.matchGroups(this.state, this.props.profile.profile.user._id);\n            this.props.matchProfiles(this.state, this.props.profile.profile.handle);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$group = this.props.group,\n          groups = _this$props$group.groups,\n          loading = _this$props$group.loading;\n      var profile = this.props.profile.profile;\n      var profiles = this.props.profile.profiles;\n      var groupItems;\n      var profileItems;\n\n      if (profile === null || loading) {\n        profileItems = React.createElement(Spinner, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        });\n      } else {\n        if (profiles === null || loading) {\n          profileItems = React.createElement(Spinner, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          });\n        } else if (profiles !== null) {\n          profileItems = profiles.map(function (profile) {\n            return React.createElement(ProfileItem, {\n              key: profile._id,\n              profile: profile,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 112\n              },\n              __self: this\n            });\n          });\n        } else {\n          profileItems = React.createElement(\"h5\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, \"No Profiles Found...\");\n        }\n\n        if (groups !== null) {\n          groupItems = groups.map(function (group) {\n            return React.createElement(GroupItem, {\n              key: group._id,\n              group: group,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 119\n              },\n              __self: this\n            });\n          });\n        } else {\n          groupItems = React.createElement(\"h5\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, \"No Groups Found...\");\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: \"match\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"display-4 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Matches\"), React.createElement(\"h4\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Click the button below to show potential matches.\"), React.createElement(\"div\", {\n        className: \"text-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"text-center btn btn-dark btn-lg btn-rounded mb-4\",\n        type: \"submit\",\n        onClick: this.getMatches.bind(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Matches\")), React.createElement(\"div\", {\n        className: \"container align-content-center justify-content-center text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"row nav nav-pills text-center nav-justified justify-content-center\",\n        id: \"searchResults\",\n        role: \"tablist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"\\xA0\\xA0\\xA0\\xA0\"), React.createElement(\"li\", {\n        className: \"nav-item nav-li active text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"nav-link text-white tab-color mb-2 d-none d-sm-block\",\n        id: \"user-tab\",\n        \"data-toggle\": \"pill\",\n        href: \"#users\",\n        role: \"tab\",\n        \"aria-controls\": \"users\",\n        \"aria-selected\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Matching Users\"), React.createElement(\"a\", {\n        className: \"nav-link text-white tab-color mb-2 d-block d-sm-none\",\n        id: \"user-tab\",\n        \"data-toggle\": \"pill\",\n        href: \"#users\",\n        role: \"tab\",\n        \"aria-controls\": \"users\",\n        \"aria-selected\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Users\")), React.createElement(\"li\", {\n        className: \"nav-item nav-li text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"nav-link text-white tab-color mb-2 d-none d-sm-block\",\n        id: \"group-tab\",\n        \"data-toggle\": \"pill\",\n        href: \"#groups\",\n        role: \"tab\",\n        \"aria-controls\": \"groups\",\n        \"aria-selected\": \"false\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Matching Groups\"), React.createElement(\"a\", {\n        className: \"nav-link text-white tab-color mb-2 d-block d-sm-none\",\n        id: \"group-tab\",\n        \"data-toggle\": \"pill\",\n        href: \"#groups\",\n        role: \"tab\",\n        \"aria-controls\": \"groups\",\n        \"aria-selected\": \"false\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Groups\")))), React.createElement(\"div\", {\n        className: \"tab-content\",\n        id: \"searchResultsContent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tab-pane fade show active\",\n        id: \"users\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"user-tab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), profileItems), React.createElement(\"div\", {\n        className: \"tab-pane fade\",\n        id: \"groups\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"group-tab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), groupItems))))));\n    }\n  }]);\n\n  return Matches;\n}(Component);\n\nMatches.propTypes = {\n  group: PropTypes.object.isRequired,\n  profile: PropTypes.object.isRequired,\n  getCurrentProfile: PropTypes.func.isRequired,\n  matchGCombo: PropTypes.func.isRequired,\n  matchGTC: PropTypes.func.isRequired,\n  matchGTCL: PropTypes.func.isRequired,\n  matchGT: PropTypes.func.isRequired,\n  matchGCC: PropTypes.func.isRequired,\n  matchGC: PropTypes.func.isRequired,\n  matchGCL: PropTypes.func.isRequired,\n  matchGroups: PropTypes.func.isRequired,\n  matchPCombo: PropTypes.func.isRequired,\n  matchPTC: PropTypes.func.isRequired,\n  matchPTCL: PropTypes.func.isRequired,\n  matchPT: PropTypes.func.isRequired,\n  matchPCC: PropTypes.func.isRequired,\n  matchPC: PropTypes.func.isRequired,\n  matchPCL: PropTypes.func.isRequired,\n  matchProfiles: PropTypes.func.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    group: state.group,\n    profile: state.profile\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getCurrentProfile: getCurrentProfile,\n  matchGCombo: matchGCombo,\n  matchGTC: matchGTC,\n  matchGTCL: matchGTCL,\n  matchGT: matchGT,\n  matchGCC: matchGCC,\n  matchGC: matchGC,\n  matchGCL: matchGCL,\n  matchGroups: matchGroups,\n  matchPCombo: matchPCombo,\n  matchPTC: matchPTC,\n  matchPTCL: matchPTCL,\n  matchPT: matchPT,\n  matchPCC: matchPCC,\n  matchPC: matchPC,\n  matchPCL: matchPCL,\n  matchProfiles: matchProfiles\n})(Matches);","map":{"version":3,"sources":["/Users/xinshuangzhai/Desktop/HikeFive/client/src/components/matchmaking/Matches.js"],"names":["React","Component","connect","PropTypes","Spinner","ProfileItem","GroupItem","getCurrentProfile","matchGCombo","matchGTC","matchGTCL","matchGT","matchGCC","matchGC","matchGCL","matchGroups","matchPCombo","matchPTC","matchPTCL","matchPT","matchPCC","matchPC","matchPCL","matchProfiles","isEmpty","Matches","props","state","getMatches","bind","nextProps","errors","setState","profile","match","country","skillMin","skillMax","travel","camp","climber","user","_id","handle","group","groups","loading","profiles","groupItems","profileItems","map","propTypes","object","isRequired","func","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Spinner from '../common/Spinner';\nimport ProfileItem from '../profiles/ProfileItem';\nimport GroupItem from '../groups/GroupItem';\nimport { getCurrentProfile } from '../../actions/profileActions';\nimport { matchGCombo, matchGTC, matchGTCL, matchGT, matchGCC, matchGC, matchGCL, matchGroups } from '../../actions/groupActions';\nimport { matchPCombo, matchPTC, matchPTCL, matchPT, matchPCC, matchPC, matchPCL, matchProfiles } from '../../actions/profileActions';\nimport isEmpty from '../../validation/is-empty';\n\nclass Matches extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        };\n        this.getMatches = this.getMatches.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.getCurrentProfile();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.errors) {\n            this.setState({ errors: nextProps.errors });\n        }\n        if (nextProps.profile.profile) {\n            const profile = nextProps.profile.profile;\n            if (profile.match) {\n                profile.match.country = !isEmpty(profile.match.country) ? profile.match.country : '';\n                profile.match.skillMin = !isEmpty(profile.match.skillMin) ? profile.match.skillMin : '';\n                profile.match.skillMax = !isEmpty(profile.match.skillMax) ? profile.match.skillMax : '';\n                profile.match.travel = !isEmpty(profile.match.travel) ? profile.match.travel : '';\n                profile.match.camp = !isEmpty(profile.match.camp) ? profile.match.camp : '';\n                profile.match.climber = !isEmpty(profile.match.climber) ? profile.match.climber : '';\n\n                this.setState({\n                    country: profile.match.country,\n                    skillMin: profile.match.skillMin,\n                    skillMax: profile.match.skillMax,\n                    travel: profile.match.travel,\n                    camp: profile.match.camp,\n                    climber: profile.match.climber\n                });\n            }\n        }\n    }\n\n    getMatches() {\n        if (this.state.travel) {\n            if (this.state.travel === 'Yes') {\n                if (this.state.camp === 'Yes') {\n                    if (this.state.climber === 'Yes') {\n                        this.props.matchGCombo(this.state, this.props.profile.profile.user._id);\n                        this.props.matchPCombo(this.state, this.props.profile.profile.handle);\n                    }\n                    else {\n                        this.props.matchGTC(this.state, this.props.profile.profile.user._id);\n                        this.props.matchPTC(this.state, this.props.profile.profile.handle);\n                    }\n                }\n                else if (this.state.climber === 'Yes') {\n                    this.props.matchGTCL(this.state, this.props.profile.profile.user._id);\n                    this.props.matchPTCL(this.state, this.props.profile.profile.handle);\n                }\n                else {\n                    this.props.matchGT(this.state, this.props.profile.profile.user._id);\n                    this.props.matchPT(this.state, this.props.profile.profile.handle);\n                }\n            }\n            else {\n                if (this.state.camp === 'Yes') {\n                    if (this.state.climber === 'Yes') {\n                        this.props.matchGCC(this.state, this.props.profile.profile.user._id);\n                        this.props.matchPCC(this.state, this.props.profile.profile.handle);\n                    }\n                    else {\n                        this.props.matchGC(this.state, this.props.profile.profile.user._id);\n                        this.props.matchPC(this.state, this.props.profile.profile.handle);\n                    }\n                }\n                else if (this.state.climber === 'Yes') {\n                    this.props.matchGCL(this.state, this.props.profile.profile.user._id);\n                    this.props.matchPCL(this.state, this.props.profile.profile.handle);\n                }\n                else {\n                    this.props.matchGroups(this.state, this.props.profile.profile.user._id);\n                    this.props.matchProfiles(this.state, this.props.profile.profile.handle);\n                }\n            }\n        }\n    }\n\n    render() {\n        const { groups, loading } = this.props.group;\n        const { profile } = this.props.profile;\n        const { profiles } = this.props.profile;\n\n        let groupItems;\n        let profileItems;\n\n        if (profile === null || loading) {\n            profileItems = <Spinner />;\n        }\n        else {\n            if (profiles === null || loading) {\n                profileItems = <Spinner />;\n            }\n            else if (profiles !== null) {\n                profileItems = profiles.map(profile => (\n                    <ProfileItem key={profile._id} profile={profile} />\n                ));\n            } else {\n                profileItems = <h5 className=\"text-center\">No Profiles Found...</h5>;\n            }\n            if (groups !== null) {\n                groupItems = groups.map(group => (\n                    <GroupItem key={group._id} group={group} />\n                ));\n            } else {\n                groupItems = <h5 className=\"text-center\">No Groups Found...</h5>;\n            }\n        }\n\n        return (\n            <div className=\"match\" >\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <h1 className=\"display-4 text-center\">Matches</h1>\n                            <h4 className=\"text-center\">Click the button below to show potential matches.</h4>\n                            <div className=\"text-center justify-content-center\">\n                                <button className=\"text-center btn btn-dark btn-lg btn-rounded mb-4\" type=\"submit\" onClick={this.getMatches.bind()}>Matches</button>\n                            </div>\n                            <div className=\"container align-content-center justify-content-center text-center\">\n                                <ul className=\"row nav nav-pills text-center nav-justified justify-content-center\" id=\"searchResults\" role=\"tablist\">\n                                    <li>&nbsp;&nbsp;&nbsp;&nbsp;</li>\n                                    <li className=\"nav-item nav-li active text-center\">\n                                        <a className=\"nav-link text-white tab-color mb-2 d-none d-sm-block\" id=\"user-tab\" data-toggle=\"pill\" href=\"#users\" role=\"tab\" aria-controls=\"users\" aria-selected=\"true\">Matching Users</a>\n                                        <a className=\"nav-link text-white tab-color mb-2 d-block d-sm-none\" id=\"user-tab\" data-toggle=\"pill\" href=\"#users\" role=\"tab\" aria-controls=\"users\" aria-selected=\"true\">Users</a>\n                                    </li>\n                                    <li className=\"nav-item nav-li text-center\">\n                                        <a className=\"nav-link text-white tab-color mb-2 d-none d-sm-block\" id=\"group-tab\" data-toggle=\"pill\" href=\"#groups\" role=\"tab\" aria-controls=\"groups\" aria-selected=\"false\">Matching Groups</a>\n                                        <a className=\"nav-link text-white tab-color mb-2 d-block d-sm-none\" id=\"group-tab\" data-toggle=\"pill\" href=\"#groups\" role=\"tab\" aria-controls=\"groups\" aria-selected=\"false\">Groups</a>\n                                    </li>\n                                </ul>\n                            </div>\n                            <div className=\"tab-content\" id=\"searchResultsContent\">\n                                <div className=\"tab-pane fade show active\" id=\"users\" role=\"tabpanel\" aria-labelledby=\"user-tab\"> <br />{profileItems}</div>\n                                <div className=\"tab-pane fade\" id=\"groups\" role=\"tabpanel\" aria-labelledby=\"group-tab\">< br />{groupItems}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nMatches.propTypes = {\n    group: PropTypes.object.isRequired,\n    profile: PropTypes.object.isRequired,\n    getCurrentProfile: PropTypes.func.isRequired,\n    matchGCombo: PropTypes.func.isRequired,\n    matchGTC: PropTypes.func.isRequired,\n    matchGTCL: PropTypes.func.isRequired,\n    matchGT: PropTypes.func.isRequired,\n    matchGCC: PropTypes.func.isRequired,\n    matchGC: PropTypes.func.isRequired,\n    matchGCL: PropTypes.func.isRequired,\n    matchGroups: PropTypes.func.isRequired,\n    matchPCombo: PropTypes.func.isRequired,\n    matchPTC: PropTypes.func.isRequired,\n    matchPTCL: PropTypes.func.isRequired,\n    matchPT: PropTypes.func.isRequired,\n    matchPCC: PropTypes.func.isRequired,\n    matchPC: PropTypes.func.isRequired,\n    matchPCL: PropTypes.func.isRequired,\n    matchProfiles: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n    group: state.group,\n    profile: state.profile\n});\n\nexport default connect(mapStateToProps, { getCurrentProfile, matchGCombo, matchGTC, matchGTCL, matchGT, matchGCC, matchGC, matchGCL, matchGroups, matchPCombo, matchPTC, matchPTCL, matchPT, matchPCC, matchPC, matchPCL, matchProfiles })(Matches);\n"]},"metadata":{},"sourceType":"module"}