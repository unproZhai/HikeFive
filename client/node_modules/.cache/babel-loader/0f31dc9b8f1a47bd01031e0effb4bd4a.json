{"ast":null,"code":"import axios from 'axios';\nimport { GET_PROFILE, GET_PROFILES, PROFILE_LOADING, CLEAR_CURRENT_PROFILE, GET_ERRORS, SET_CURRENT_USER } from './types'; //====================================================================================\n\n/*\n  FUNCTIONS:\n    - getCurrentProfile\n    - getProfileByHandle\n    - searchProfiles\n    - createProfile\n    - addTrip\n    - addMatchData\n    - deleteTrip\n    - getProfiles\n    - matchPCombo\n    - matchPTC\n    - matchPTCL\n    - matchPT\n    - matchPCC\n    - matchPC\n    - matchPCL\n    - matchProfiles\n    - deleteAccount\n    - setProfileLoading\n    - clearCurrentProfile\n*/\n//====================================================================================\n// Get current profile\n\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/profile').then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n}; // Get profile by handle\n\nexport var getProfileByHandle = function getProfileByHandle(handle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile/handle/\".concat(handle)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: null\n      });\n    });\n  };\n}; // Search Profiles\n\nexport var searchProfiles = function searchProfiles(query) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile/\".concat(query)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // Create Profile\n\nexport var createProfile = function createProfile(profileData, history) {\n  return function (dispatch) {\n    axios.post('/api/profile', profileData).then(function (_res) {\n      return history.push('/feed');\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Add Trip\n\nexport var addTrip = function addTrip(tripData, history) {\n  return function (dispatch) {\n    axios.post('/api/profile/trips', tripData).then(function (_res) {\n      return history.push('/edit-trips');\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //Add match data\n\nexport var addMatchData = function addMatchData(matchData, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/matchData\", matchData).then(function (_res) {\n      return history.push(\"/matches\");\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Delete Trip\n\nexport var deleteTrip = function deleteTrip(id) {\n  return function (dispatch) {\n    axios.delete(\"/api/profile/trips/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Get all profiles\n\nexport var getProfiles = function getProfiles() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/profile/all').then(function (res) {\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // matchPCombo - Travel, Camp, and Climb\n\nexport var matchPCombo = function matchPCombo(matchData, userHandle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/group/matchPCombo', {\n      params: {\n        skillMin: matchData.skillMin,\n        skillMax: matchData.skillMax,\n        handle: userHandle\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // matchPTC - Travel and Camp\n\nexport var matchPTC = function matchPTC(matchData, userHandle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/group/matchPTravelCamp', {\n      params: {\n        skillMin: matchData.skillMin,\n        skillMax: matchData.skillMax,\n        handle: userHandle\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // matchPTCL - Travel and Climb\n\nexport var matchPTCL = function matchPTCL(matchData, userHandle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/group/matchPTravelClimb', {\n      params: {\n        skillMin: matchData.skillMin,\n        skillMax: matchData.skillMax,\n        handle: userHandle\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // matchPT - Travel\n\nexport var matchPT = function matchPT(matchData, userHandle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/group/matchPTravel', {\n      params: {\n        skillMin: matchData.skillMin,\n        skillMax: matchData.skillMax,\n        handle: userHandle\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // matchPCC - Camp and Climb\n\nexport var matchPCC = function matchPCC(matchData, userHandle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/group/matchPCampClimb', {\n      params: {\n        skillMin: matchData.skillMin,\n        skillMax: matchData.skillMax,\n        country: matchData.country,\n        handle: userHandle\n      }\n    }).then(function (res) {\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // matchPC- Camp\n\nexport var matchPC = function matchPC(matchData, userHandle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/group/matchPCamp', {\n      params: {\n        skillMin: matchData.skillMin,\n        skillMax: matchData.skillMax,\n        country: matchData.country,\n        handle: userHandle\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // matchPCL - Climb\n\nexport var matchPCL = function matchPCL(matchData, userHandle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/group/matchPClimb', {\n      params: {\n        skillMin: matchData.skillMin,\n        skillMax: matchData.skillMax,\n        country: matchData.country,\n        handle: userHandle\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // matchProfiles\n\nexport var matchProfiles = function matchProfiles(matchData, userHandle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/group/matchP', {\n      params: {\n        skillMin: matchData.skillMin,\n        skillMax: matchData.skillMax,\n        country: matchData.country,\n        handle: userHandle\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (_err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; // Delete account & profile\n\nexport var deleteAccount = function deleteAccount() {\n  return function (dispatch) {\n    if (window.confirm('Are you sure? This can NOT be undone!')) {\n      axios.delete('/api/profile').then(function (_res) {\n        return dispatch({\n          type: SET_CURRENT_USER,\n          payload: {}\n        });\n      }).catch(function (err) {\n        return dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        });\n      });\n    }\n  };\n}; // Profile loading\n\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n}; // Clear profile\n\nexport var clearCurrentProfile = function clearCurrentProfile() {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n};","map":{"version":3,"sources":["/Users/xinshuangzhai/Desktop/HikeFive/client/src/actions/profileActions.js"],"names":["axios","GET_PROFILE","GET_PROFILES","PROFILE_LOADING","CLEAR_CURRENT_PROFILE","GET_ERRORS","SET_CURRENT_USER","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","_err","getProfileByHandle","handle","searchProfiles","query","createProfile","profileData","history","post","_res","push","err","response","addTrip","tripData","addMatchData","matchData","deleteTrip","id","delete","getProfiles","matchPCombo","userHandle","params","skillMin","skillMax","matchPTC","matchPTCL","matchPT","matchPCC","country","matchPC","matchPCL","matchProfiles","deleteAccount","window","confirm","clearCurrentProfile"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport {\n  GET_PROFILE,\n  GET_PROFILES,\n  PROFILE_LOADING,\n  CLEAR_CURRENT_PROFILE,\n  GET_ERRORS,\n  SET_CURRENT_USER\n} from './types';\n\n//====================================================================================\n\n/*\n  FUNCTIONS:\n    - getCurrentProfile\n    - getProfileByHandle\n    - searchProfiles\n    - createProfile\n    - addTrip\n    - addMatchData\n    - deleteTrip\n    - getProfiles\n    - matchPCombo\n    - matchPTC\n    - matchPTCL\n    - matchPT\n    - matchPCC\n    - matchPC\n    - matchPCL\n    - matchProfiles\n    - deleteAccount\n    - setProfileLoading\n    - clearCurrentProfile\n*/\n\n//====================================================================================\n\n// Get current profile\nexport const getCurrentProfile = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/profile')\n    .then(res =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      })\n    );\n};\n\n// Get profile by handle\nexport const getProfileByHandle = handle => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get(`/api/profile/handle/${handle}`)\n    .then(res =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: null\n      })\n    );\n};\n\n// Search Profiles\nexport const searchProfiles = query => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get(`/api/profile/${query}`)\n    .then(res =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// Create Profile\nexport const createProfile = (profileData, history) => dispatch => {\n  axios\n    .post('/api/profile', profileData)\n    .then(_res => history.push('/feed'))\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n\n// Add Trip\nexport const addTrip = (tripData, history) => dispatch => {\n  axios\n    .post('/api/profile/trips', tripData)\n    .then(_res => history.push('/edit-trips'))\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n\n//Add match data\nexport const addMatchData = (matchData, history) => dispatch => {\n  axios\n    .post(`/api/profile/matchData`, matchData)\n    .then(_res => history.push(`/matches`))\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n\n// Delete Trip\nexport const deleteTrip = id => dispatch => {\n  axios\n    .delete(`/api/profile/trips/${id}`)\n    .then(res =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      })\n    )\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n\n// Get all profiles\nexport const getProfiles = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/profile/all')\n    .then(res => {\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    }\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// matchPCombo - Travel, Camp, and Climb\nexport const matchPCombo = (matchData, userHandle) => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/group/matchPCombo', {\n      params: {\n        skillMin: matchData.skillMin, \n        skillMax: matchData.skillMax,\n        handle: userHandle\n      }\n    }) \n    .then(res =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// matchPTC - Travel and Camp\nexport const matchPTC = (matchData, userHandle) => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/group/matchPTravelCamp', {\n      params: {\n        skillMin: matchData.skillMin, \n        skillMax: matchData.skillMax,\n        handle: userHandle\n      }\n    }) \n    .then(res =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// matchPTCL - Travel and Climb\nexport const matchPTCL = (matchData, userHandle) => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/group/matchPTravelClimb', {\n      params: {\n        skillMin: matchData.skillMin, \n        skillMax: matchData.skillMax,\n        handle: userHandle\n      }\n    }) \n    .then(res =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// matchPT - Travel\nexport const matchPT = (matchData, userHandle) => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/group/matchPTravel', {\n      params: {\n        skillMin: matchData.skillMin, \n        skillMax: matchData.skillMax,\n        handle: userHandle\n      }\n    }) \n    .then(res =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// matchPCC - Camp and Climb\nexport const matchPCC = (matchData, userHandle) => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/group/matchPCampClimb', {\n      params: {\n        skillMin: matchData.skillMin, \n        skillMax: matchData.skillMax,\n        country: matchData.country,\n        handle: userHandle\n      }\n    }) \n    .then(res => {\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    }\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// matchPC- Camp\nexport const matchPC = (matchData, userHandle) => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/group/matchPCamp', {\n      params: {\n        skillMin: matchData.skillMin, \n        skillMax: matchData.skillMax,\n        country: matchData.country,\n        handle: userHandle\n      }\n    }) \n    .then(res =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// matchPCL - Climb\nexport const matchPCL = (matchData, userHandle) => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/group/matchPClimb', {\n      params: {\n        skillMin: matchData.skillMin, \n        skillMax: matchData.skillMax,\n        country: matchData.country,\n        handle: userHandle\n      }\n    }) \n    .then(res =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// matchProfiles\nexport const matchProfiles = (matchData, userHandle) => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n    .get('/api/group/matchP', {\n      params: {\n        skillMin: matchData.skillMin, \n        skillMax: matchData.skillMax,\n        country: matchData.country,\n        handle: userHandle\n      }\n    }) \n    .then(res =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      })\n    )\n    .catch(_err =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      })\n    );\n};\n\n// Delete account & profile\nexport const deleteAccount = () => dispatch => {\n  if (window.confirm('Are you sure? This can NOT be undone!')) {\n    axios\n      .delete('/api/profile')\n      .then(_res =>\n        dispatch({\n          type: SET_CURRENT_USER,\n          payload: {}\n        })\n      )\n      .catch(err =>\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        })\n      );\n  }\n};\n\n// Profile loading\nexport const setProfileLoading = () => {\n  return {\n    type: PROFILE_LOADING\n  };\n};\n\n// Clear profile\nexport const clearCurrentProfile = () => {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n};\n"]},"metadata":{},"sourceType":"module"}